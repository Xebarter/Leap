# Quick Start: Interactive Unit Selection

## ğŸ¯ Overview
Click any unit in the building visualization to reserve, pay, or schedule a visit for that specific unit.

## ğŸš€ How It Works

### 1ï¸âƒ£ View the Building
Navigate to any property details page that has a building visualization:
```
/properties/[property-id]
```

Scroll down to see the **"Unit Availability"** section with the interactive building graphic.

### 2ï¸âƒ£ Click a Unit
Click on any colored unit box in the building visualization:
- **Available units**: Bright colors (clickable)
- **Occupied units**: Dimmed colors with strikethrough (still clickable)

### 3ï¸âƒ£ Choose Your Action
A dialog appears with three options:

#### ğŸ  Reserve Unit
- Submit application to rent this unit
- Provide identity and move-in details
- Pay booking fee
- âš ï¸ Only enabled for available units

#### ğŸ’³ Make Payment
- Pay rent or deposit for this unit
- Mobile money payment (MTN/Airtel)
- Payment tracked by unit ID
- âœ… Available for all units

#### ğŸ“… Schedule Visit
- Book a time to view the unit
- Choose date and time
- Get confirmation email
- âœ… Available for available units

### 4ï¸âƒ£ Complete Your Action
- Fill in the required information
- Submit your request
- Receive confirmation

## ğŸ“± User Interface

### Main Dialog (Unit Action Dialog)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¢ Unit 203                         â”‚
â”‚ Choose an action for this unit      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ Unit Details Card           â”‚   â”‚
â”‚ â”‚ â€¢ Type: 2BR                 â”‚   â”‚
â”‚ â”‚ â€¢ Floor: 2                  â”‚   â”‚
â”‚ â”‚ â€¢ Status: Available         â”‚   â”‚
â”‚ â”‚ â€¢ Price: 800,000 UGX/month  â”‚   â”‚
â”‚ â”‚ â€¢ ID: 1234-5678-90          â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                     â”‚
â”‚ What would you like to do?          â”‚
â”‚                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ ğŸ  Reserve Unit         â†’    â”‚   â”‚
â”‚ â”‚ Submit an application to     â”‚   â”‚
â”‚ â”‚ reserve this unit            â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ ğŸ’³ Make Payment          â†’   â”‚   â”‚
â”‚ â”‚ Pay rent or deposit for      â”‚   â”‚
â”‚ â”‚ this unit                    â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ ğŸ“… Schedule Visit        â†’   â”‚   â”‚
â”‚ â”‚ Book a time to view this     â”‚   â”‚
â”‚ â”‚ unit in person               â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                     â”‚
â”‚ ğŸ’¡ You can schedule a visit to      â”‚
â”‚    view the unit before making      â”‚
â”‚    any commitments                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Color Coding
- ğŸ”µ **Blue**: Reserve Unit
- ğŸŸ¢ **Green**: Make Payment
- ğŸŸ£ **Purple**: Schedule Visit

## ğŸ”§ For Developers

### Component Location
```
components/publicView/unit-action-dialog.tsx
```

### Integration Example
```typescript
import { UnitActionDialog } from '@/components/publicView/unit-action-dialog'
import { BuildingBlockVisualization } from '@/components/publicView/building-block-visualization'

// State
const [selectedUnit, setSelectedUnit] = useState<Unit | null>(null)
const [dialogOpen, setDialogOpen] = useState(false)

// Handler
const handleUnitClick = (unit: Unit) => {
  setSelectedUnit(unit)
  setDialogOpen(true)
}

// JSX
<BuildingBlockVisualization
  buildingName="My Building"
  totalFloors={5}
  units={units}
  onUnitClick={handleUnitClick}
/>

<UnitActionDialog
  unit={selectedUnit}
  propertyId={propertyId}
  propertyTitle={propertyTitle}
  propertyLocation={propertyLocation}
  propertyCode={propertyCode}
  open={dialogOpen}
  onOpenChange={setDialogOpen}
/>
```

## âœ… Testing Checklist

- [ ] Click on available unit â†’ Dialog opens with all actions enabled
- [ ] Click on occupied unit â†’ Dialog opens, "Reserve" is disabled
- [ ] Select "Reserve Unit" â†’ Opens reservation dialog
- [ ] Select "Make Payment" â†’ Opens payment dialog
- [ ] Select "Schedule Visit" â†’ Opens visit scheduling dialog
- [ ] Close sub-dialog â†’ Returns to action selection
- [ ] Complete any action â†’ Success confirmation
- [ ] Mobile responsive â†’ Works on all screen sizes

## ğŸ’¡ Tips

### For Users
- **Preview First**: Schedule a visit to see the unit before reserving
- **Check Details**: Review unit specifications carefully
- **Availability**: Green badge = available, Gray = occupied

### For Admins
- Units must have `isAvailable` property set correctly
- Ensure unit prices are in cents (UGX * 100)
- Unit `uniqueId` is auto-generated if not provided

## ğŸ› Troubleshooting

### Dialog doesn't open
- Check that `onUnitClick` is properly connected
- Verify unit data has required fields (id, unitNumber, floor, type)

### Actions not working
- Ensure sub-dialogs (Reserve, Payment, Visit) are imported
- Check authentication state if actions require login

### Unit details missing
- Verify unit data includes optional fields (price, area, bedrooms, bathrooms)
- Check `property_code` or `uniqueId` is set

## ğŸ“š Related Documentation
- `UNIT_INTERACTIVE_SELECTION_FEATURE.md` - Complete implementation details
- `FLOOR_UNIT_TYPE_FEATURE_SUMMARY.md` - Building visualization setup
- `QUICK_START_VISIT_SCHEDULING.md` - Visit scheduling system
- `QUICK_START_PAYMENTS.md` - Payment system integration

---

**Status**: âœ… Production Ready
**Version**: 1.0.0
**Last Updated**: 2026-01-31
